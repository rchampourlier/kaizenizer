# Kaizenizer Metrics

`Kaizenizer` generates significative key performance indicators (KPIs) of your product development teams by looking into Jira and Github's data. Data is extracted using APIs and stored into a Postgres database (using `Kaizenizer-Source-X` sub-projects). `Kaizenizer` then uses the data in the Postgres DB to generate metrics that can be displayed easily using a tool like Grafana. You can also directly build visualization from the data generated by `Kaizenizer-Source-X` sub-projects in data-visualization tools like Metabase.

### Why?

["That which is measured, improves", Karl Pearson or Peter Drucker](https://english.stackexchange.com/questions/14952/that-which-is-measured-improves)

Measuring KPIs for a product development team is required to drive continuous improvement. We aspire to be always improving, so we need to measure the results of our actions and find ways to quantify our performance.

### Metrics

#### Lead and Cycle Time

- The **Lead Time** is the duration between the issue's creation (based on the Jira issue's _CreationDate_) and it's resolution (based on the time it reaches a resolved status for the last time).
- The **Cycle Time** is the duration between the moment the issue enters WIP (Work In Progress, i.e. someone starts working on it (e.g. before spec or dev) to the time it's done (ready to be released).

#### Cumulative Flow Diagram

The Cumulative Flow Diagram displays the cumulated number of issues in WIP and backlog status over time.

#### WIP and Backlog composition

Displays the number of issues per kind (e.g. product, bug, ops, technical) over time, for WIP and Backlog issues.

#### WIP age

Displays the number of issues whose _age_ (time since the issue last entered WIP and now) is in each of the following age buckets: 1d, 1w, 1m or more.

#### Backlog age

Same as for WIP age but for issues in backlog, considering the time since their creation.

### Future metrics (TODO)

- [ ] Ratio of issues in `WIP` to number of developers
- [ ] Code inventory (using Github, e.g. cumulated open pull requests size)

### Inspiration

Though the project started a long time ago with [Agilizer](https://github.com/jobteaser/agilizer_source), the later updates have been heavily influenced by [SoundCloud's Project Development KPIs](https://github.com/soundcloud/project-dev-kpis) project. Their project is quite similar in its purpose, with a different technical implementation. The main difference is that `Kaizenizer` retrieves history data from Jira and Github to generate past metrics, while SoundCloud's will generate new metrics from the time it's started. And it's written in Python instead of Golang ;)

## Use

**TODO**

## Implementation

For all metrics, events are loaded from the database's `jira_issues_events` table and converted to `store.Event` structs. 

### Statuses

For status changes, the `valueFrom` and `valueTo` fields will contain one of the following statuses:

- `backlog`
- `wip`
- `done`
- `resolved`

These statuses are mapped from Jira original statuses. The mapping is done in `store/pgstore.go:statusGroup()`.

### Kinds

The following issue _kinds_ are considered:

- `product`
- `bug`
- `ops`
- `technical`

Again, the mapping from Jira original issue types is done in `store.pgstore.go:issueTypeGroup()`.

## Troubleshooting

### **MISMATCH** logs

You can activate mismatch logging if you have some issues with counters that seems wrong (e.g. negative values). This may be due to issues in your mapping of statuses that do not match with the metrics' backlog -> wip -> done -> resolved workflow.

Activating this logging will display `**MISMATCH**...` logs indicating which issues have mismatches, enabling you to investigate deeper.

**TODO: enable activating mismatch logging using a parameter and document it**

## License

MIT

## Copyright

Copyright (c) 2018 Romain Champourlier <public__AT__rchampourlier.com>

See the [LICENSE](LICENSE) for details.
